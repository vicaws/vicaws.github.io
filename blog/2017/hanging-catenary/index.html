<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Hanging catenary | Victor Wang (汪胜)</title> <meta name="author" content="Victor Wang (汪胜)"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/icon.png"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://vicaws.github.io/blog/2017/hanging-catenary/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "Hanging catenary",
      "description": "",
      "published": "November 19, 2017",
      "authors": [
        {
          "author": "Victor Wang",
          "authorURL": "",
          "affiliations": [
            {
              "name": "InFoMM, Oxford",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Victor </span>Wang (汪胜)</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Portfolio</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/profile/">Profile</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Menu</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/publications/">Publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/projects/">Projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/repositories/">Repositories</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Hanging catenary</h1> <p></p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#modelling-the-shape">Modelling the shape</a></div> <div><a href="#numerical-optimisation">Numerical optimisation</a></div> <ul> <li><a href="#optimisation-with-default-configurations">Optimisation with default configurations</a></li> <li><a href="#supplying-gradients-and-hessian">Supplying gradients and Hessian</a></li> <li><a href="#modifying-initial-points">Modifying initial points</a></li> <li><a href="#increasing-the-number-of-beams">Increasing the number of beams</a></li> <li><a href="#experiment-on-model-parameter-y">Experiment on model parameter Y</a></li> <li><a href="#experiment-on-model-parameter-gamma">Experiment on model parameter gamma</a></li> </ul> <div><a href="#conclusion">Conclusion</a></div> </nav> </d-contents> <p>A catenary is the curve that an idealised hanging chain or cable assumes under its own weight when supported only at its ends. For example, a stressed ribbon bridge hanging between pillars on either side of a river forms a shape of catenary. The catenary shape can be derived by minimising the total energy of the hanging chain. We would like to formulate a discrete energy objective and minimise it numerically.</p> <h2 id="modelling-the-shape">Modelling the shape</h2> <p>We model a catenary of \(n+1\) beams in a 2-dimensional \((x,y)\) plane, with the first beam fixed at the origin and the final beam fixed at a fraction \(\gamma \in (0,1)\) of the total length of all the beams. Suppose each beam is of length \(L\) and of mass \(m\). Let \((x_i, y_i)\), \(i=1,\cdots,n+1\) be the coordinates of the end of the beams and \((x_0,y_0) = (0,0)\) the coordinate of the start point of the first beam. Assuming that the gravity acts at the middle of each beam, then we have the gravitational potential energy</p> <p>\begin{equation} E_\text{G} = \sum_{i=1}^{n} mg \cdot \frac{1}{2}(y_{i-1} + y_{i}), \end{equation}</p> <p>where \(g\) is the gravitational constant. Hence, the resulting problem minimises the energy of the system \(E_\text{G}\). Since \(mg\) is constant, we define the problem as</p> <p>\begin{equation} \min_{x,y} \quad \frac{1}{2} y_0 + y_1 + \cdots + y_n + \frac{1}{2} y_{n+1} \label{eq:MinProblem} \end{equation}</p> \[\text{subject to} \quad (x_0, y_0) = (0,0),\] \[(x_{n+1}, y_{n+1}) = (\gamma (n+1)L, Y),\] \[(x_i - x_{i+1})^2 + (y_i - y_{i+1})^2 = L^2, \forall i = 0,\cdots, n.\] <p>Here \(Y\) is a constant indicating the vertical position of the end of the final beam.</p> <h2 id="numerical-optimisation">Numerical optimisation</h2> <p>We solve the constrained minimisation problem (\ref{eq:MinProblem}) numerically given values of parameters \(n\), \(\gamma\), \(L\), \(Y\). To be specific, we use <code class="language-plaintext highlighter-rouge">MATLAB Optimization Toolbox</code> to implement the <code class="language-plaintext highlighter-rouge">interior-point</code> algorithm. It is of our interest to study the optimisation performance under different configurations.</p> <p>We define the optimisation configuration matrix in Table 1.</p> <table> <thead> <tr> <th><strong>Parameter</strong></th> <th><strong>Description</strong></th> <th><strong>Default</strong></th> </tr> </thead> <tbody> <tr> <td>\(T_\text{1st}\)</td> <td>Termination tolerance on the first-order optimality</td> <td><code class="language-plaintext highlighter-rouge">1e-6</code></td> </tr> <tr> <td>\(T_\text{C}\)</td> <td>Termination tolerance on the constraint violation</td> <td><code class="language-plaintext highlighter-rouge">1e-6</code></td> </tr> <tr> <td>\((\mathbf{x}^0, \mathbf{y}^0)\)</td> <td>Starting points</td> <td><code class="language-plaintext highlighter-rouge">(0,0)</code></td> </tr> <tr> <td>\(S_\text{G}\)</td> <td>Supplying analytical gradients</td> <td><code class="language-plaintext highlighter-rouge">false</code></td> </tr> <tr> <td>\(S_\text{GH}\)</td> <td>Supplying analytical gradients and Hessian</td> <td><code class="language-plaintext highlighter-rouge">false</code></td> </tr> </tbody> </table> <p><strong>Table 1</strong> - Optimisation configuration matrix.</p> <p>While the default values are given in the last column, we are about to investigate how the optimisation performs by adjusting these parameters. Note that we assume very small tolerant step size and very large tolerant number of iterations and function evaluations, so that the numerical process will only terminate by satisfying the pre-defined tolerances (i.e. \(T_\text{1st}\) and \(T_\text{C}\)). In fact, we take the number of iterations and function evaluations as our key measures of the algorithm efficiency.</p> <p>Table 2 lists the interested measures of optimisation performance. Given fixed stopping criteria, a more efficient process will terminate with less iterations (\(N_\text{I}\)) and function evaluations (\(N_\text{F}\)), while a more effective process will end up will smaller first-order derivative (\(E_\text{1st}\)) and constraint violations (\(E_\text{C}\)).</p> <table> <thead> <tr> <th><strong>Parameter</strong></th> <th><strong>Description</strong></th> </tr> </thead> <tbody> <tr> <td>\(N_\text{I}\)</td> <td>Number of iterations</td> </tr> <tr> <td>\(N_\text{F}\)</td> <td>Number of function evaluations</td> </tr> <tr> <td>\(E_\text{1st}\)</td> <td>Measure of the realised first-order optimality</td> </tr> <tr> <td>\(E_\text{C}\)</td> <td>Maximum of constraint function violations</td> </tr> </tbody> </table> <p><strong>Table 2</strong> - Optimisation performance matrix.</p> <p>To proceed with the numerical process, we assign instance values to the model parameters as listed in Table 3. We will modify some default values to study corresponding impact on the optimisation performance.</p> <table> <tbody> <tr> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td><strong>Parameter</strong></td> <td>\(n\)</td> <td>\(\gamma\)</td> <td>\(L\)</td> <td>\(Y\)</td> </tr> <tr> <td><strong>Value</strong></td> <td>19</td> <td>0.8</td> <td>1</td> <td>5</td> </tr> </tbody> </table> <p><strong>Table 3</strong> - Default values of the model parameters.</p> <h3 id="optimisation-with-default-configurations">Optimisation with default configurations</h3> <p>We start from looking at the results with default configs. Figure 1 displays the resulted shape, and Figure 2 traces the evolution of function values and first-order optimality over iterations.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/posts/hanging-catenary/DefaultCatenary.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>Figure 1</strong> - Catenary shape.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/posts/hanging-catenary/DefaultOptimPerform.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>Figure 2</strong> - Optimisation performance.</p> <h3 id="supplying-gradients-and-hessian">Supplying gradients and Hessian</h3> <p>The default configs do not admit gradients or Hessian, in which case the solvers estimate them via finite differences. The estimation is time-consuming and can be less accurate for higher order of derivatives. In the catenary problem, it is possible to derive analytical form of gradients and Hessian for both objectives and constraints. We monitor changes in optimisation performance by including gradients (\(S_\text{G} = \text{true}\)) and Hessian (\(S_\text{GH} = \text{true}\)) in sequence.</p> <table> <thead> <tr> <th> </th> <th>\(n=19\)</th> <th> </th> <th>\(n=49\)</th> <th> </th> </tr> </thead> <tbody> <tr> <td><strong>Solver</strong></td> <td>\(N_\text{I}\)</td> <td>\(N_\text{F}\)</td> <td>\(N_\text{I}\)</td> <td>\(N_\text{F}\)</td> </tr> <tr> <td><strong>Default</strong></td> <td>51</td> <td>2299</td> <td>565</td> <td>61639</td> </tr> <tr> <td>\(S_\text{G} = \text{true}\)</td> <td>65</td> <td>213</td> <td>152</td> <td>528</td> </tr> <tr> <td>\(S_\text{GH} = \text{true}\)</td> <td>41</td> <td>88</td> <td>106</td> <td>174</td> </tr> </tbody> </table> <p><strong>Table 4</strong> - Performance with gradients and Hessian</p> <p>Table 4 shows the number of iterations and function evaluations by different solvers, given different values of \(n\). In both cases, the number of iterations is reduced dramatically after including analytical Hessian, but increases a bit if only including gradients. Nevertheless, including gradients avoids a substantial amount of function evaluations. Moreover, when \(n\) is larger, the efficiency introduced by adding gradients and Hessian becomes more noticeable.</p> <p>Meanwhile, we observe that, for default solver, \(N_\text{I}\) and \(N_\text{F}\) increases much faster when \(n\) grows. We expect that the computational complexity will soon become unaffordable if \(n\) becomes \(500, 1000\) or more. We attempt to reduce computing complexity by adapting the initial points.</p> <h3 id="modifying-initial-points">Modifying initial points</h3> <p>Instead of giving trivial initial guess, we make a wiser choice for at least \(\mathbf{x}^0\). A physically meaningful choice would be that \(x_i\)’s are evenly distributed within the interval \([x_0, x_{n+1}]\). Following this choice, we modify Table 4 to Table 5.</p> <table> <thead> <tr> <th> </th> <th>\(n=19\)</th> <th> </th> <th>\(n=49\)</th> <th> </th> </tr> </thead> <tbody> <tr> <td><strong>Solver</strong></td> <td>\(N_\text{I}\)</td> <td>\(N_\text{F}\)</td> <td>\(N_\text{I}\)</td> <td>\(N_\text{F}\)</td> </tr> <tr> <td><strong>Default</strong></td> <td>52</td> <td>2331</td> <td>140</td> <td>14782</td> </tr> <tr> <td>\(S_\text{G} = \text{true}\)</td> <td>52</td> <td>120</td> <td>152</td> <td>559</td> </tr> <tr> <td>\(S_\text{GH} = \text{true}\)</td> <td>10</td> <td>16</td> <td>13</td> <td>18</td> </tr> </tbody> </table> <p><strong>Table 5</strong> - Performance with wise initial points</p> <p>The changes due to initial points are significant, especially in the case of larger \(n\). In particular, the solver with gradients and Hessian gets most improvement.</p> <p>So far the observed most efficient numerical scheme is the gradient and Hessian solver with evenly distributed initial points \(\mathbf{x}^0\). We will further test the robustness of this scheme by scaling up the catenary problem, i.e. to allow \(n\) to grow to a very large number.</p> <h3 id="increasing-the-number-of-beams">Increasing the number of beams</h3> <p>Let \(Y=0\) rather then 5 such that the initial guess probably makes more sense. We run the chosen solver for \(n=99,\cdots,9999\) and show the number of iterations and function evaluations in Table 6. The chosen numerical scheme proves to be super efficient since the number of iterations seems follow a logarithmic growth with \(n\).</p> <table> <tbody> <tr> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>\(n\)</td> <td>9</td> <td>49</td> <td>99</td> <td>499</td> <td>999</td> <td>4999</td> <td>9999</td> </tr> <tr> <td>\(N_\text{I}\)</td> <td>8</td> <td>11</td> <td>12</td> <td>14</td> <td>15</td> <td>18</td> <td>19</td> </tr> <tr> <td>\(N_\text{F}\)</td> <td>13</td> <td>16</td> <td>17</td> <td>19</td> <td>20</td> <td>23</td> <td>24</td> </tr> </tbody> </table> <p><strong>Table 6</strong> - Performance under different \(n\).</p> <h3 id="experiment-on-model-parameter-y">Experiment on model parameter Y</h3> <p>Suppose we set \(Y\) back to the default value 5 and re-run the same numerical scheme, will we get the same performance? The answer is no. In fact, \(n=99\) leads to \(N_\text{I} = 33\), \(n=499\) leads to \(N_\text{I} = 501\), and \(n=999\) leads to \(N_\text{I} = 1445\). This evidence implies the key role that the initial points play in the scheme. Our initial guess might not fit the case where \(Y=5\) well because more beams tend to group near the right side, far more from the assumption of even distribution. It is expected that our numerical scheme is less efficient given larger \(\\|Y\\|\) (either larger positive \(Y\) or smaller negative \(Y\)).</p> <h3 id="experiment-on-model-parameter-gamma">Experiment on model parameter gamma</h3> <p>Will the numerical optimisation performance be invariant with the model parameter \(\gamma\)? The answer is no, as well. Similar to \(Y\), the value of \(\gamma\) has a saying on the quality of our initial guess. The smaller the \(\gamma\) is, in physical sense more beams will stay closer to the two sides, so that the initial guess of even horizontal distribution is more unrealistic. This is evidenced by the observations shown in Table 7, where we run the numerical scheme given different \(\gamma\) (we fix \(n=499\)).</p> <table> <tbody> <tr> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>\(\gamma\)</td> <td>0.01</td> <td>0.1</td> <td>0.2</td> <td>0.5</td> <td>0.7</td> <td>0.8</td> <td>0.9</td> <td>0.99</td> </tr> <tr> <td>\(N_\text{I}\)</td> <td>\(&gt;3000\)</td> <td>270</td> <td>242</td> <td>26</td> <td>14</td> <td>14</td> <td>15</td> <td>17</td> </tr> <tr> <td>\(N_\text{F}\)</td> <td>\(&gt;5000\)</td> <td>807</td> <td>578</td> <td>55</td> <td>19</td> <td>19</td> <td>20</td> <td>22</td> </tr> </tbody> </table> <p><strong>Table 7</strong> - Performance under different \(\gamma\)</p> <h3 id="termination-tolerance-and-realised-error">Termination tolerance and realised error</h3> <p>Finally we look at the comparison between termination tolerance (\(T_\text{1st}\) and \(T_\text{C}\)) and realised error (\(E_\text{1st}\) and \(E_\text{C}\)). We study the case where \(n=499\), \(Y=0\) and all the other parameters reserve default values.</p> <p>Recall that we assume very small tolerant step size and very large tolerant number of iterations and function evaluations. In implementation, we input <code class="language-plaintext highlighter-rouge">1e-100</code> for the stepsize, and <code class="language-plaintext highlighter-rouge">1e10</code> for the number of iterations and function evaluations. Now we lift \(T_\text{1st}\) and \(T_\text{C}\) up to <code class="language-plaintext highlighter-rouge">1e-100</code>, and obtain results shown in Figure 3. The optimisation stopped because the relative changes in all elements of \(\mathbf{x}\) are less than \texttt{1e-100}. Hence, it seems there’s a limit on achievable levels for \(E_\text{1st}\) and \(E_\text{C}\). Meanwhile, Figure 3 provides a good guidance to know how many iterations are required for the desired tolerance \(T_\text{1st}\) and \(T_\text{C}\).</p> <div class="row justify-content-sm-center"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/posts/hanging-catenary/HessianOptimPerform_Fst.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/posts/hanging-catenary/HessianOptimPerform_C.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>Figure 3</strong> - Realised errors over iterations.</p> <h2 id="conclusion">Conclusion</h2> <p>We propose a numerical minimisation scheme to solve the catenary problem. We observe that including gradients and Hessian can largely improve the efficiency of the scheme, and such improvement is more significant in large-scaled problem. Moreover, initial guess also plays a key role in improving efficiency, though it is difficult to come up with a perfect one.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography><div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"alshedivat/al-folio","data-repo-id":"MDEwOlJlcG9zaXRvcnk2MDAyNDM2NQ==","data-category":"Comments","data-category-id":"DIC_kwDOA5PmLc4CTBt6","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,a])=>giscusScript.setAttribute(t,a)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Victor Wang (汪胜). Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>